<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Code for America Office Screens</title>
    <link rel="shortcut icon" type="image/x-icon" href=
    "http://style.codeforamerica.org/0/favicon.ico">
    <script type="text/javascript">
   var timouts_urls = [
    /* First value is timeout in minutes for that URL */
      [2, "http://www.tweetbeam.com/show?query=codeforamerica"],
      [3, "http://project-monitor.codeforamerica.org/"],
      [2, "http://drewrwilson.github.io/Countdown-to-the-Summit/"],
      [2, "http://www.chillestmonkey.com"],
      [3, "http://kitchen-stories.herokuapp.com"],
      /*
      Refused to display in a frame:
      "https://facebook.com/",
      "https://m.facebook.com/",
      "https://gmail.com/&output=embed",
      "https://travis-ci.org/",
      "http://travis-lite.com/",
      "http://www.tumblr.com/dashboard",
      */
           ];

            var random = true; // set to false for sequential display

           function showUrl(idx) {

              var f = document.getElementById("f");

              // First run
              if (idx == undefined) {
                if (random) {
                  idx = next = Math.floor(Math.random()*timouts_urls.length);
                } else {
                  idx = 0;
                }
              }

              // set the src
              f.src = timouts_urls[idx][1];

              // Call the next load after 5 minutes only after
              // this iframe loads
                if (random) {
                    var next = idx
                    <!-- TODO handle case for only one URL? -->
                    while(next == idx) {
                        next = Math.floor(Math.random()*timouts_urls.length);
                    }

                } else {
                    var next = ++idx % timouts_urls.length;
                }
                setTimeout(function(){
                    showUrl(next);
                }, timouts_urls[idx][0] * 60 * 1000);
           }

    </script>
  </head>
  <body onload="showUrl()" class="app-chrome">
    <iframe id="f" src="about:blank" style=
    "position:fixed; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999;"
    name="f"></iframe>
  </body>
</html>
